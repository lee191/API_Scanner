# ğŸ” Shadow API Scanner

ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìˆ¨ê²¨ì§„/ë¬¸ì„œí™”ë˜ì§€ ì•Šì€ APIë¥¼ íƒìƒ‰í•˜ê³  ë³´ì•ˆ ì·¨ì•½ì ì„ ë¶„ì„í•˜ëŠ” ëª¨ì˜ ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸ ë„êµ¬

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

- **ğŸŒ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ë¶„ì„**: mitmproxyë¥¼ ì‚¬ìš©í•œ HTTP/HTTPS íŠ¸ë˜í”½ ìº¡ì²˜
- **ğŸ“œ JavaScript ì •ì  ë¶„ì„**: JS íŒŒì¼ì—ì„œ API ì—”ë“œí¬ì¸íŠ¸ ìë™ ì¶”ì¶œ
- **ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸ ìˆ˜ì§‘**: ì¤‘ë³µ ì œê±° ë° ì •ê·œí™”ëœ ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡
- **ğŸ›¡ï¸ ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìº”**: OWASP Top 10 ê¸°ë°˜ ì·¨ì•½ì  íƒì§€
  - ì¸ì¦/ê¶Œí•œ ê²€ì‚¬
  - CORS ì˜¤êµ¬ì„±
  - ë¯¼ê° ë°ì´í„° ë…¸ì¶œ
  - SQL Injection
  - XSS
  - Rate Limiting
- **ğŸ“„ ë‹¤ì–‘í•œ ë¦¬í¬íŠ¸ í˜•ì‹**: JSON, HTML, Markdown ë¦¬í¬íŠ¸ ìƒì„±

## ğŸ“¦ ì„¤ì¹˜

### ìš”êµ¬ì‚¬í•­

- Python 3.8+
- pip

### ì„¤ì¹˜ ë°©ë²•

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd Shadow-API

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# Playwright ë¸Œë¼ìš°ì € ì„¤ì¹˜ (ì„ íƒì‚¬í•­)
playwright install
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ í™˜ê²½ (ê¶Œì¥)

ì·¨ì•½í•œ í…ŒìŠ¤íŠ¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë„êµ¬ë¥¼ í…ŒìŠ¤íŠ¸:

```bash
# 1. í…ŒìŠ¤íŠ¸ ì•± ì‹œì‘ (Docker)
# Windows
docker-run.bat
# Linux/Mac
chmod +x docker-run.sh && ./docker-run.sh

# 2. ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ (Windows)
test-scripts\run-test.bat

# 3. ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ (Linux/Mac)
chmod +x test-scripts/run-test.sh
./test-scripts/run-test.sh

# 4. ìˆ˜ë™ í…ŒìŠ¤íŠ¸
python main.py full-scan http://localhost:5000 \
    --js-path test-app/static --scan-vulns

# 5. ì •ë¦¬
# Windows: docker-stop.bat
# Linux/Mac: ./docker-stop.sh
```

ìì„¸í•œ ë‚´ìš©ì€ [TESTING.md](TESTING.md) ì°¸ì¡°

## ğŸš€ ì‚¬ìš©ë²•

### 1. í”„ë¡ì‹œ ëª¨ë“œ - ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ìº¡ì²˜

```bash
python main.py proxy --host 127.0.0.1 --port 8080
```

ë¸Œë¼ìš°ì € í”„ë¡ì‹œ ì„¤ì •:
- í˜¸ìŠ¤íŠ¸: 127.0.0.1
- í¬íŠ¸: 8080
- HTTPS í”„ë¡ì‹œ í™œì„±í™”

ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ íƒìƒ‰í•˜ë©´ ëª¨ë“  API í˜¸ì¶œì´ ìë™ìœ¼ë¡œ ìº¡ì²˜ë©ë‹ˆë‹¤.

### 2. JavaScript ë¶„ì„ ëª¨ë“œ

ë‹¨ì¼ íŒŒì¼ ë¶„ì„:
```bash
python main.py analyze app.js --base-url https://example.com
```

ë””ë ‰í† ë¦¬ ë¶„ì„ (ì¬ê·€):
```bash
python main.py analyze ./src --base-url https://example.com --recursive
```

### 3. ì „ì²´ ìŠ¤ìº” (ê¶Œì¥)

```bash
python main.py full-scan https://example.com \
  --js-path ./javascript \
  --scan-vulns \
  --output ./reports
```

ì˜µì…˜:
- `--js-path`: JavaScript íŒŒì¼/ë””ë ‰í† ë¦¬ ê²½ë¡œ
- `--scan-vulns`: ì·¨ì•½ì  ìŠ¤ìº” ìˆ˜í–‰ (ê¸°ë³¸: true)
- `--no-scan-vulns`: ì·¨ì•½ì  ìŠ¤ìº” ê±´ë„ˆë›°ê¸°
- `--output`: ë¦¬í¬íŠ¸ ì¶œë ¥ ë””ë ‰í† ë¦¬

## ğŸ“Š ì¶œë ¥ ì˜ˆì‹œ

### ì½˜ì†” ì¶œë ¥

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                           â•‘
â•‘              ğŸ” Shadow API Scanner v1.0                  â•‘
â•‘         Penetration Testing Tool for API Discovery       â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[*] ì „ì²´ ìŠ¤ìº” ì‹œì‘: https://example.com

[1/3] JavaScript ë¶„ì„ ì¤‘...
íŒŒì¼ ë¶„ì„: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 45/45 [00:12<00:00]
  âœ“ ë°œê²¬ëœ ì—”ë“œí¬ì¸íŠ¸: 87ê°œ

[2/3] ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìº” ì¤‘...
ì—”ë“œí¬ì¸íŠ¸ ìŠ¤ìº”: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 87/87 [01:23<00:00]
  âœ“ ë°œê²¬ëœ ì·¨ì•½ì : 12ê°œ
    - Critical: 2ê°œ
    - High: 5ê°œ

[3/3] ë¦¬í¬íŠ¸ ìƒì„± ì¤‘...
[+] JSON report: output/full_scan_20250101_120000.json
[+] HTML report: output/full_scan_20250101_120000.html
[+] Markdown report: output/full_scan_20250101_120000.md

============================================================
[âœ“] ìŠ¤ìº” ì™„ë£Œ!

ğŸ“Š ê²°ê³¼ ìš”ì•½:
  â€¢ ì—”ë“œí¬ì¸íŠ¸: 87ê°œ
  â€¢ ì·¨ì•½ì : 12ê°œ

ğŸ“ ìƒì„±ëœ ë¦¬í¬íŠ¸:
  â€¢ JSON: output/full_scan_20250101_120000.json
  â€¢ HTML: output/full_scan_20250101_120000.html
  â€¢ MARKDOWN: output/full_scan_20250101_120000.md
============================================================
```

### HTML ë¦¬í¬íŠ¸

HTML ë¦¬í¬íŠ¸ëŠ” ì•„ë¦„ë‹µê²Œ í¬ë§·ëœ ëŒ€ì‹œë³´ë“œ í˜•íƒœë¡œ ìƒì„±ë©ë‹ˆë‹¤:
- ğŸ“Š í†µê³„ ëŒ€ì‹œë³´ë“œ
- ğŸŒ ë°œê²¬ëœ API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡
- ğŸ›¡ï¸ ë³´ì•ˆ ì·¨ì•½ì  ìƒì„¸ ì •ë³´
- ğŸ’¡ ê¶Œì¥ì‚¬í•­

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Shadow-API/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ proxy/              # í”„ë¡ì‹œ ì„œë²„ ë° íŠ¸ë˜í”½ ìº¡ì²˜
â”‚   â”‚   â”œâ”€â”€ capture.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ analyzer/           # JavaScript ì •ì  ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ js_analyzer.py
â”‚   â”‚   â”œâ”€â”€ endpoint_collector.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ scanner/            # ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìºë„ˆ
â”‚   â”‚   â”œâ”€â”€ vulnerability_scanner.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ reporter/           # ë¦¬í¬íŠ¸ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ report_generator.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ utils/              # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚       â”œâ”€â”€ models.py
â”‚       â”œâ”€â”€ config.py
â”‚       â””â”€â”€ __init__.py
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml         # ì„¤ì • íŒŒì¼
â”œâ”€â”€ output/                 # ë¦¬í¬íŠ¸ ì¶œë ¥ ë””ë ‰í† ë¦¬
â”œâ”€â”€ tests/                  # í…ŒìŠ¤íŠ¸
â”œâ”€â”€ main.py                 # CLI ì§„ì…ì 
â”œâ”€â”€ requirements.txt        # Python ì˜ì¡´ì„±
â””â”€â”€ README.md
```

## âš™ï¸ ì„¤ì •

`config/config.yaml` íŒŒì¼ì—ì„œ ì„¤ì •ì„ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```yaml
# í”„ë¡ì‹œ ì„¤ì •
proxy:
  host: "127.0.0.1"
  port: 8080
  timeout: 30

# JavaScript ë¶„ì„ íŒ¨í„´
js_analysis:
  patterns:
    - "fetch("
    - "axios."
    - "XMLHttpRequest"

# ì·¨ì•½ì  ìŠ¤ìºë„ˆ ì„¤ì •
scanner:
  checks:
    - authentication
    - authorization
    - cors
    - sql_injection
    - xss
  timeout: 10
  max_retries: 3

# ì¶œë ¥ ì„¤ì •
output:
  directory: "output"
  formats:
    - "json"
    - "html"
    - "markdown"
```

## ğŸ›¡ï¸ íƒì§€ ê°€ëŠ¥í•œ ì·¨ì•½ì 

| ì·¨ì•½ì  ìœ í˜• | ì‹¬ê°ë„ | CWE |
|------------|--------|-----|
| Missing Authentication | HIGH | CWE-306 |
| Insecure Authentication | HIGH | CWE-319 |
| CORS Misconfiguration | HIGH/MEDIUM | CWE-942 |
| Sensitive Data Exposure | HIGH/MEDIUM | CWE-200 |
| SQL Injection | CRITICAL | CWE-89 |
| XSS (Cross-Site Scripting) | HIGH | CWE-79 |
| Missing Rate Limiting | MEDIUM | CWE-770 |

## ğŸ”’ ë²•ì  ê³ ì§€ì‚¬í•­

**âš ï¸ ì¤‘ìš”: ì´ ë„êµ¬ëŠ” ë°©ì–´ì  ë³´ì•ˆ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.**

- âœ… ìì‹ ì´ ì†Œìœ í•˜ê±°ë‚˜ ëª…ì‹œì  í—ˆê°€ë¥¼ ë°›ì€ ì‹œìŠ¤í…œì—ë§Œ ì‚¬ìš©
- âœ… ëª¨ì˜ ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸ ë° ë³´ì•ˆ í‰ê°€ ëª©ì 
- âœ… ì·¨ì•½ì  ë°œê²¬ ë° ìˆ˜ì •ì„ ìœ„í•œ êµìœ¡ì  ëª©ì 
- âŒ ë¬´ë‹¨ ì ‘ê·¼, ë°ì´í„° íƒˆì·¨, ì•…ì˜ì  ëª©ì  ì‚¬ìš© ê¸ˆì§€

ì‚¬ìš©ìëŠ” ì´ ë„êµ¬ì˜ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ëª¨ë“  ë²•ì  ì±…ì„ì„ ì§‘ë‹ˆë‹¤.

## ğŸ¤ ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸, ê¸°ëŠ¥ ì œì•ˆ, í’€ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤!

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” êµìœ¡ ë° ë³´ì•ˆ ì—°êµ¬ ëª©ì ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤.

## ğŸ”„ í–¥í›„ ê³„íš

- [ ] URL í¬ë¡¤ë§ ê¸°ëŠ¥
- [ ] WebSocket API ì§€ì›
- [ ] GraphQL ì—”ë“œí¬ì¸íŠ¸ ë¶„ì„
- [ ] API ë¬¸ì„œ ìë™ ìƒì„±
- [ ] CI/CD í†µí•©
- [ ] Docker ì´ë¯¸ì§€ ì œê³µ
- [ ] ì¶”ê°€ ì·¨ì•½ì  ì²´í¬ (SSRF, XXE, etc.)
- [ ] ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ API íŒ¨í„´ ì¸ì‹

## ğŸ“§ ì—°ë½ì²˜

ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ë³´ì•ˆ ì´ìŠˆ ë°œê²¬ ì‹œ ì œë³´í•´ì£¼ì„¸ìš”.

---

**Shadow API Scanner** - ë” ì•ˆì „í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•˜ì—¬ ğŸ›¡ï¸
