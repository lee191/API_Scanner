{% extends "base.html" %}

{% block content %}
<div class="container">
    <!-- íˆì–´ë¡œ ì„¹ì…˜ -->
    <div class="hero">
        <h1>ğŸ›’ VulnShopì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</h1>
        <p>ìµœê³ ì˜ ì „ìì œí’ˆì„ í•©ë¦¬ì ì¸ ê°€ê²©ì— ë§Œë‚˜ë³´ì„¸ìš”</p>
        <p class="text-muted" style="font-size: 0.9rem;">(ì´ ì‚¬ì´íŠ¸ëŠ” ë³´ì•ˆ ì·¨ì•½ì  í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤)</p>
        <div class="hero-buttons">
            <a href="/products" class="btn btn-primary">ìƒí’ˆ ë‘˜ëŸ¬ë³´ê¸°</a>
            {% if not session.get('username') %}
            <a href="/register" class="btn btn-secondary">íšŒì›ê°€ì…</a>
            {% endif %}
        </div>
    </div>

    <!-- ì¶”ì²œ ìƒí’ˆ -->
    <h2 style="margin-bottom: 1.5rem;">ğŸ”¥ ì¸ê¸° ìƒí’ˆ</h2>
    <div class="card-grid">
        {% for product in products %}
        <div class="card">
            <div class="card-image">{{ product[6] }}</div>
            <div class="card-content">
                <h3 class="card-title">{{ product[1] }}</h3>
                <p class="card-description">{{ product[2] }}</p>
                <div class="card-price">â‚©{{ '{:,}'.format(product[3]|int) }}</div>
                <div class="card-actions">
                    <a href="/product/{{ product[0] }}" class="btn btn-primary" style="flex: 1;">ìƒì„¸ë³´ê¸°</a>
                    <button class="btn btn-success" onclick="addToCartQuick({{ product[0] }}, '{{ product[1] }}', {{ product[3] }})">
                        ì¥ë°”êµ¬ë‹ˆ
                    </button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- íŠ¹ì§• -->
    <div style="margin-top: 4rem;">
        <h2 style="text-align: center; margin-bottom: 2rem;">ì™œ VulnShopì¸ê°€ìš”?</h2>
        <div class="card-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
            <div class="card" style="text-align: center; padding: 2rem;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸšš</div>
                <h3>ë¹ ë¥¸ ë°°ì†¡</h3>
                <p>ì£¼ë¬¸ í›„ 24ì‹œê°„ ë‚´ ë°°ì†¡</p>
            </div>
            <div class="card" style="text-align: center; padding: 2rem;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ’³</div>
                <h3>ì•ˆì „í•œ ê²°ì œ</h3>
                <p>ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ ì§€ì›</p>
            </div>
            <div class="card" style="text-align: center; padding: 2rem;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ</div>
                <h3>íšŒì› í˜œíƒ</h3>
                <p>ì ë¦½ê¸ˆê³¼ ì¿ í° ì œê³µ</p>
            </div>
            <div class="card" style="text-align: center; padding: 2rem;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“</div>
                <h3>24/7 ê³ ê°ì§€ì›</h3>
                <p>ì–¸ì œë“ ì§€ ë¬¸ì˜í•˜ì„¸ìš”</p>
            </div>
        </div>
    </div>
</div>

<script>
function addToCartQuick(id, name, price) {
    let cart = JSON.parse(localStorage.getItem('cart') || '[]');
    cart.push({ id, name, price, quantity: 1 });
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    alert('ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
}
</script>
{% endblock %}
